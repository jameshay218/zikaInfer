# This file was generated by Rcpp::compileAttributes
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Converts to unit scale
#'
#' @param x the double to be converted
#' @param min the minimum value on the linear scale
#' @param max the maximum value on the linear scale
#' @return the value converted to a unit scale
#' @export
#' @useDynLib zikaProj
toUnitScale <- function(x, min, max) {
    .Call('zikaProj_toUnitScale', PACKAGE = 'zikaProj', x, min, max)
}

#' Converts to linear scale
#'
#' @param x the double to be converted back to linear scale
#' @param min the minimum value on the linear scale
#' @param max the maximum value on the linear scale
#' @return the value converted to a linear scale
#' @export
#' @useDynLib zikaProj 
fromUnitScale <- function(x, min, max) {
    .Call('zikaProj_fromUnitScale', PACKAGE = 'zikaProj', x, min, max)
}

#' FOI calculation
#'
#' Calculates the force of infection over time for an SEIR model
#' @param IM a numeric vector of number of infected mosquitoes over time
#' @param NH the constant human population size
#' @param b the per vector per day bite rate
#' @param pMH the probability of transmission upon bite
#' @param the time step over which to bucket the force of infection. Best left to 1 for 1 day
#' @return the vector of FOI
#' @export
#' @useDynLib zikaProj 
generate_foi <- function(IM, NH, b, pMH, tstep) {
    .Call('zikaProj_generate_foi', PACKAGE = 'zikaProj', IM, NH, b, pMH, tstep)
}

#' Cumulative susceptible probability
#' 
#' Calculates the cumulative probability of remaining susceptible over the course of the epidemic
#' @param foi the time varying force of infection as generated by \link{\code{generate_foi}}
#' @param tstep the time step for the buckets. Best left to 1.
#' @return the vector of cumulative escape probabilities
#' @export
#' @useDynLib zikaProj
generate_riskS <- function(foi, tstep) {
    .Call('zikaProj_generate_riskS', PACKAGE = 'zikaProj', foi, tstep)
}

#' Risk of infection
#' 
#' Calculates the relative risk of infection over time
#' @param foi the time varying force of infection as generated by \link{\code{generate_foi}}
#' @param riskS the cumulative probability of remaining susceptible over the course of the epidemic as generated by \link{\code{generate_riskS}}
#' @param tstep the time step for the buckets. Best left to 1.
#' @return the vector of relative infection risks
#' @export
#' @useDynLib zikaProj
generate_riskI <- function(foi, riskS, tstep) {
    .Call('zikaProj_generate_riskI', PACKAGE = 'zikaProj', foi, riskS, tstep)
}

#' Time varying microcephaly risk AUX
#'
#' Calculates the probability of a birth having microcephaly at a given time
#' @param riskI the relative risk of infection over time as generated by \link{\code{generate_riskI}}
#' @param probM the time varying risk of developing microcephaly given infection over the course of gestation. Time steps should be the same as riskI
#' @param bp the baseline probability of microcephaly
#' @return the vector of microcephaly probabilities
#' @export
#' @useDynLib zikaProj
generate_probM_aux <- function(riskI, probM, bp) {
    .Call('zikaProj_generate_probM_aux', PACKAGE = 'zikaProj', riskI, probM, bp)
}

#' Time varying microcephaly risk
#'
#' Given the epidemic model parameters and number of infected mosquitoes over time, calculates the probability of a birth having microcephaly at a given time
#' @param IM a numeric vector of number of infected mosquitoes over time
#' @param probM the time varying risk of developing microcephaly given infection over the course of gestation
#' @param NH the constant human population size
#' @param b the per vector per day bite rate
#' @param pMH the probability of transmission upon bite
#' @param bp the baseline probability of microcephaly
#' @param tstep the time step for the buckets. Best left to 1.
#' @return the vector of microcephaly probabilities
#' @export
#' @useDynLib zikaProj
#' @seealso \link{\code{generate_probM_aux}}
generate_probM <- function(IM, NH, probM, b, pMH, bp, tstep) {
    .Call('zikaProj_generate_probM', PACKAGE = 'zikaProj', IM, NH, probM, b, pMH, bp, tstep)
}

#' Likelihood function for time-varying microcephaly
#'
#' Calculates the likelihood of observing a vector of microcephaly births given the total number of births and microcephaly probabilities. Note that all vectors must be equal lengths.
#' @param microBirths the vector of observed microcephaly cases over time
#' @param allBirths the corresponding total number of births
#' @param probM the corresponding vector of microcephaly probabilities as calculated by \link{\code{generate_probM}}.
#' @return a single likelihood value
#' @export
#' @useDynLib zikaProj
likelihood_probM <- function(microBirths, allBirths, probM) {
    .Call('zikaProj_likelihood_probM', PACKAGE = 'zikaProj', microBirths, allBirths, probM)
}

#' Averages a vector based on bucket sizes
#'
#' Given a vector (a) and another vector of bucket sizes, returns the averaged vector (a)
#' @param a the vector to be bucketed and averaged
#' @param buckets the vector of bucket sizes to average a over
#' @return the vector of averaged a
#' @export
#' @useDynLib zikaProj
average_buckets <- function(a, buckets) {
    .Call('zikaProj_average_buckets', PACKAGE = 'zikaProj', a, buckets)
}

